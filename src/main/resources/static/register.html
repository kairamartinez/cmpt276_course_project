<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA_Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width" , initial-scale="1.0">
  <title>SoSy Course Planner</title>
  <link rel="stylesheet" href="stylesheets/login.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="stylesheets/header.css">
  <link rel="stylesheet" href="stylesheets/main.css">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-lg">
      <div class="nav container-fluid">
        <a class="navbar-brand" href="https://sfussss.org/" target="_blank" onclick="confirmRedirect()">
          <img src="/assets/icons/sosy-logo.png" alt="Sosy Logo" width="30" height="24" class="d-inline-block align-text-top">
          SoSy Course Planner
        </a>
        <div class="nav justify-content-end">
          <a class="nav-link" href="/">Home</a>
          <a class="nav-link" href="https://sfussss.org/events" target="_blank" onclick="confirmRedirect()">Events</a>
          <a class="nav-link" href="https://sfussss.org/get-involved" target="_blank" onclick="confirmRedirect()">Get Involved</a>
          <a class="nav-link" href="https://sfussss.org/resources" target="_blank" onclick="confirmRedirect()">Resources</a>
          <a class="nav-link" href="https://sfussss.org/blog" target="_blank" onclick="confirmRedirect()">Blog</a>
          <a class="nav-link" href="https://sfussss.org/courses" target="_blank" onclick="confirmRedirect()">Courses</a>
          <a class="nav-link green-button" href="mailto:ssss-exec@sfu.ca" rel="noreferrer">Contact Us</a>
          
          <script>
            function confirmRedirect() {
              alert("You will be redirected to an external website.")
            }
          </script>
        </div>
      </div>
    </nav>
    <section class="container-fluid">
        <div class="row justify-content-center">
            <div class="col text-center title">
                <h6>Register</h6>
                <h1>Start Planning Your Degree</h1>
            </div>
        </div>
    </section>
  </header>
  <main class="d-flex justify-content-center align-items-center vh-100">
    <div class="wrapper">

      <form action="/users/register" method="post">
  
  
        <script>
          document.addEventListener('DOMContentLoaded', function () {
            const urlParams = new URLSearchParams(window.location.search);
            const successMessage = urlParams.get('success');
            const errorMessage = urlParams.get('error');
  
            if (successMessage) {
              alert(decodeURIComponent(successMessage.replace(/\+/g, ' ')));
            }
  
            if (errorMessage) {
              alert(decodeURIComponent(errorMessage.replace(/\+/g, ' ')));
            }
          });
        </script>
  
        <h1>Register</h1>
  
        <div class="input-box">
          <input type="text" id="username" name="username" placeholder="Username@sfu.ca" pattern="^.+@sfu\.ca$"
            title="Username must end with @sfu.ca" required>
          <i class='bx bxs-user'></i>
        </div>
  
        <script>
          document.getElementById('username').addEventListener('input', function (e) {
            var username = e.target.value;
            var pattern = new RegExp(e.target.pattern);
            if (pattern.test(username)) {
              // The username ends with @sfu.ca
              e.target.setCustomValidity('');
            } else {
              // The username does not end with @sfu.ca
              e.target.setCustomValidity('Username must end with @sfu.ca');
            }
          });
        </script>
  
  
        <div class="input-box">
          <input type="password" id="password" name="password" placeholder="Password"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Must contain at least one number, one uppercase and one lowercase letter, and be at least 8 characters long"
            required>
          <i class='bx bxs-show' onclick="togglePasswordVisibility('password', this)"></i>
        </div>
  
        <div class="input-box">
          <input type="password" id="confirm_password" placeholder="Confirm Password"
            pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
            title="Must match the password and contain at least one number, one uppercase and one lowercase letter, and be at least 8 characters long"
            required>
          <i class='bx bxs-show' onclick="togglePasswordVisibility('confirm_password', this)"></i>
        </div>
  
  
        <script>
          function togglePasswordVisibility(inputId, icon) {
            var input = document.getElementById(inputId);
            if (input.type === "password") {
              input.type = "text";
              icon.className = 'bx bxs-hide'; // Change to 'eye-off' icon, adjust if necessary
            } else {
              input.type = "password";
              icon.className = 'bx bxs-show'; // Change back to 'eye' icon, adjust if necessary
            }
          }
        </script>
  
        <script>
          // JavaScript for matching the passwords
          var password = document.getElementById("password"),
            confirm_password = document.getElementById("confirm_password");
  
          function validatePassword() {
            if (password.value != confirm_password.value) {
              confirm_password.setCustomValidity("Passwords Don't Match");
            } else {
              confirm_password.setCustomValidity('');
            }
          }
  
          password.onchange = validatePassword;
          confirm_password.onkeyup = validatePassword;
        </script>
  
  
        <div class="remember-forgot">
          <label><input type="checkbox"> I agree to all the
            <a href="https://www.sfu.ca/contact/terms-conditions.html" id="termsLink" target="_blank"
              onclick="confirmRedirect()">Terms and Conditions </a></label>
        </div>
        <script>
          function confirmRedirect() {
            alert("You will be redirected to an external website.")
          }
        </script>
  
  
        <button type="submit" class="btn">Register</button>
      </form>
      <div class="register-link">
        <p>Already have an account?
          <a href="login.html">Login</a>
        </p>
      </div>
      
    </div>
  </main>

  

</body>

</html>